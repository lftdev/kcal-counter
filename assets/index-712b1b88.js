var h=Object.defineProperty;var g=(t,e,o)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var f=(t,e,o)=>(g(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();class b{constructor(e,o,a,n,s){f(this,"name","");f(this,"proteins",0);f(this,"carbs",0);f(this,"fats",0);f(this,"servingSize",100);this.name=e,this.proteins=o,this.carbs=a,this.fats=n,s&&s>0&&(this.servingSize=s)}}function y(t,e,o){const a=document.createElement("select");return a.classList=t,a.onchange=n=>o(n.target.value),e.forEach(n=>{const s=document.createElement("option"),r=n.name;s.value=r,s.innerText=r.charAt(0).toUpperCase()+r.slice(1,r.length),a.appendChild(s)}),a}const x=({servingSize:t,foodAmount:e,proteins:o,carbs:a,fats:n})=>(o+a+n)*e/t;function v(t){const{className:e,title:o,message:a,children:n,onBtnClick:s}=t,r=document.createElement("div");r.onclick=s,r.classList="absolute grid place-items-center bg-[rgba(0,0,0,.8)] w-full h-full";const c=document.createElement("div");c.classList=e,c.innerHTML=`
    <h2 class="text-5xl">${o}</h2>
    <p>${a}</p>
    ${n}
  `;const l=document.createElement("button");return l.classList="bg-[#D64045] text-white font-bold p-2",l.innerText="OK",l.onclick=s,c.appendChild(l),r.appendChild(c),r}function w(t){const{servingSize:e,foodAmount:o,proteins:a,carbs:n,fats:s,totalKcals:r}=t,c=document.getElementById("app"),l=v({className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col gap-5 p-5 rounded-md bg-white",title:"Your Food Information",message:`For a <span class="font-bold">serving size of ${e}g</span> and a <span class="font-bold">food amount of ${o}g</span>, you will have the following calories:`,children:`
    <ul>
      <li><span class="font-bold">Proteins calories:</span> ${a}</li>
      <li><span class="font-bold">Carbs calories:</span> ${n}</li>
      <li><span class="font-bold">Fats calories:</span> ${s}</li>
    </ul>
    <h3 class="text-4xl">TOTAL: ${Math.floor(r)}</h3>
    `,onBtnClick:()=>c.removeChild(l)});c.appendChild(l)}const L=t=>JSON.parse(window.localStorage.getItem(t));function m(t,e){window.localStorage.setItem(t,JSON.stringify(e))}const C=async()=>await fetch("https://api.calorieninjas.com/v1/nutrition?query=apple+banana+orange+watermelon+pineapple+peach+strawberry+grape",{method:"GET",headers:{"X-Api-Key":"RQYidsn9smAVaPSUrS1b8Rrf6XQ9FnapMPTdCPcz"}}).then(t=>t.json()).then(t=>t.items),p=document.querySelectorAll('input[type="number"]');p.forEach(t=>{t.oninput=()=>E(t)});const i=L("foodData")??{servingSize:0,foodAmount:0,proteins:0,carbs:0,fats:0};p.forEach(t=>{const e=i[t.name];t.value=e===0?"":e});const u=document.querySelector("form");u.onsubmit=O;const d=[];C().then(t=>{t.forEach(e=>d.push(new b(e.name,e.protein_g,e.carbohydrates_total_g,e.fat_total_g))),u.insertBefore(y("p-2",d,S),u.firstChild)});function E(t){const e=t.name;i[e]=parseInt(t.value),m("foodData",i)}function S(t){if(t!=="none"){const e=d[d.findIndex(o=>o.name===t)];Object.keys(i).forEach(o=>{o!=="foodAmount"&&(i[o]=e[o])}),m("foodData",i),p.forEach(o=>{o.name!=="foodAmount"&&(o.value=e[o.name])})}}function O(t){t.preventDefault();const e=i;e.proteins*=4,e.carbs*=4,e.fats*=9,w({...e,totalKcals:x(e)})}
